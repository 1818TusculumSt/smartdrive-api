# =============================================================================
# SmartDrive API - Environment Configuration (API-only, no crawler)
# =============================================================================
# Copy this file to .env and fill in your actual values
# Never commit .env to version control!

# -----------------------------------------------------------------------------
# Pinecone Configuration (Required)
# -----------------------------------------------------------------------------
# These connect to your EXISTING Pinecone index (no crawler needed)
# Get from: https://www.pinecone.io/

PINECONE_API_KEY=your_pinecone_api_key_here
PINECONE_INDEX_NAME=smartdrive
PINECONE_HOST=smartdrive-xxxxx.svc.aped-xxxx-xxxx.pinecone.io

# -----------------------------------------------------------------------------
# Azure Blob Storage Configuration (Required for RAG Architecture)
# -----------------------------------------------------------------------------
# These connect to your EXISTING Azure Blob Storage container
# Get from: https://portal.azure.com → Storage Accounts → Access keys

AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=youraccount;AccountKey=yourkey==;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER_NAME=documents

# -----------------------------------------------------------------------------
# Embedding Provider Configuration (For Query Encoding Only)
# -----------------------------------------------------------------------------
# Used ONLY to encode search queries - NOT for indexing documents
# Options: "local", "voyage", "pinecone", "api"
# Default: "local" (recommended - free, fast, private)

EMBEDDING_PROVIDER=local
EMBEDDING_MODEL=all-MiniLM-L6-v2

# -----------------------------------------------------------------------------
# Optional: Voyage AI (For Query Encoding)
# -----------------------------------------------------------------------------
# Only needed if EMBEDDING_PROVIDER=voyage
# Note: Must match the embedding provider used during indexing!

# VOYAGE_API_KEY=your_voyage_api_key_here
# VOYAGE_MODEL=voyage-3-large

# -----------------------------------------------------------------------------
# Optional: Custom API Embeddings (For Query Encoding)
# -----------------------------------------------------------------------------
# Only needed if EMBEDDING_PROVIDER=api

# EMBEDDING_API_URL=https://api.openai.com/v1/embeddings
# EMBEDDING_API_KEY=your_api_key_here
# EMBEDDING_MODEL=text-embedding-ada-002

# -----------------------------------------------------------------------------
# Performance Settings (Optional)
# -----------------------------------------------------------------------------
EMBEDDING_TIMEOUT=30

# -----------------------------------------------------------------------------
# IMPORTANT NOTES FOR API-ONLY DEPLOYMENT
# -----------------------------------------------------------------------------
#
# 1. NO CRAWLER: This deployment does NOT include the crawler
#    - You must index documents separately (on a different machine)
#    - This server ONLY connects to existing Pinecone + Azure Blob indexes
#
# 2. Embedding Provider MUST MATCH:
#    - Use the SAME embedding provider/model used during indexing
#    - If you indexed with Voyage AI, use EMBEDDING_PROVIDER=voyage here
#    - If you indexed with local, use EMBEDDING_PROVIDER=local here
#    - Dimension mismatch will cause search failures!
#
# 3. Required Credentials:
#    - PINECONE_API_KEY, PINECONE_INDEX_NAME, PINECONE_HOST
#    - AZURE_STORAGE_CONNECTION_STRING, AZURE_STORAGE_CONTAINER_NAME
#
# 4. NOT Required (Crawler-only):
#    - MICROSOFT_CLIENT_ID / MICROSOFT_TENANT_ID (OneDrive access)
#    - AZURE_VISION_KEY / AZURE_VISION_ENDPOINT (OCR)
#    - AZURE_FORM_RECOGNIZER_KEY / AZURE_FORM_RECOGNIZER_ENDPOINT (Document Intelligence)
#
# 5. API Endpoints:
#    - Health check: GET http://localhost:8000/health
#    - API docs: http://localhost:8000/docs
#    - Search: POST http://localhost:8000/tools/search_onedrive
#    - Read doc: POST http://localhost:8000/tools/read_document
#
